<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>끝말잇기</title>
</head>
<body>
    <div><span id = "order">1</span>번째 참가자</div>
    <div>제시어: <span id = "word"></span></div>
    <input type="text">
    <button>확인</button>
    <script>
        var number = Number(prompt("몇 명이 참가함?")); // number형식으로 바꿈
        var yesOrNo = confirm("참가 인원 " + number + "명 맞음?")
        var $button = document.querySelector('button');
        var $input = document.querySelector('input');
        var $word = document.querySelector('#word');
        var $order = document.querySelector('#order');
        var word;   //제시어
        var newWord;    //새 단어

        var onClickButton = () => { // onClickButton이라는 이벤트 생성
            if(!word){  //word에 값이 없으면
                word = newWord;
                $word.textContent = word;   //화면에 표시
                var order = Number($order.textContent);
                if(order + 1 > number){
                    $order.textContent = 1;
                } else{
                    $order.textContent = order + 1;
                }
            } else{
                if(word[word.length - 1] === newWord[0]){
                    word = newWord;
                    $word.textContent = word;
                    var order = Number($order.textContent);
                    if(order + 1 > number){
                        $order.textContent = 1;
                } else{
                    $order.textContent = order + 1;
                    }
                } 
            }
        };
        var onInput = (event) => {  // onInput이라는 이벤트 생성
            newWord = event.target.value;
        };

        $button.addEventListener("click", onClickButton);   //button에 이벤트를 추가
        $input.addEventListener("input", onInput)   //input에 이벤트를 추가
    </script>
</body>
</html>
